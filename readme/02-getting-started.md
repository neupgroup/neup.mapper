# Getting Started

## ğŸš€ Quick Start Options

### **Option 1: Project Discovery Mode (Recommended)**
**Automatically discover connections and schemas from your standard project structure:**

1. **Organize your project**:
   - `src/mapper/connections/*.ts` - Database connection definitions
   - `src/mapper/migrations/*.ts` - Migration files
   - `src/mapper/schemas/*.ts` - Table definitions (auto-generated by migrations)

2. **Just discover and go**:
```ts
import { Mapper } from '@neupgroup/mapper';

// Scans src/mapper/ and registers everything
await Mapper.discover();

// Start querying (uses 'default' connection by default)
const users = await Mapper.base('users').limit(10).get();

// Use a specific connection if needed
const logs = await Mapper.connection('logs_db').base('access_logs').get();
```

### **Option 2: Manual Setup**
**Manually manage connections without discovery:**

```ts
import { Mapper } from '@neupgroup/mapper';

// Connect to a database
Mapper.connect('mydb', 'mysql', {
  host: 'localhost',
  user: 'root',
  password: 'password',
  database: 'myapp'
});

// Use the connection
await Mapper.connection('mydb').base('users').get();
```

---

## ğŸ› ï¸ Typical Project Structure
For the best experience (and to use the CLI tools), follow this structure:

```text
your-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â”œâ”€â”€ connections/ # Connection configurations
â”‚   â”‚   â”œâ”€â”€ migrations/  # Database migration files
â”‚   â”‚   â””â”€â”€ schemas/     # Table definitions (auto-generated)
â”‚   â””â”€â”€ index.ts         # Your app entry point
â””â”€â”€ package.json
```

## ğŸ”„ Workflow Example

1. **Create a Migration**:
   ```bash
   npm run create-migration users
   ```
   This creates a file in `src/mapper/migrations/`.

2. **Run the Migration**:
   ```bash
   npm run migrate
   ```
   This updates your database and automatically generates the schema file in `src/mapper/schemas/users.ts`.

3. **Use in Code**:
   ```ts
   // src/index.ts
   import { Mapper } from '@neupgroup/mapper';

   async function main() {
       await Mapper.discover();
       
       const newUser = await Mapper.base('users')
           .insert({ name: 'Alice', email: 'alice@example.com' })
           .run();
   }
   ```
